(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[794],{9670:function(e,t,a){Promise.resolve().then(a.bind(a,9177))},9177:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});var r=a(7437),n=a(575),l=a(9376),i=a(2265);function s(){let{currentUser:e,loading:t}=(0,n.a)(),a=(0,l.useRouter)();return((0,i.useEffect)(()=>{t||e&&"faculty"===e.role||a.push("/login")},[e,t,a]),t)?(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)("div",{className:"text-xl",children:"Loading..."})}):e&&"faculty"===e.role?(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Faculty Dashboard"}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Welcome, ",e.name]}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Manage your classes and mark attendance here."}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100 hover:shadow-lg transition cursor-pointer",onClick:()=>a.push("/dashboard/faculty/attendance"),children:[(0,r.jsx)("h3",{className:"font-bold text-blue-700",children:"Mark Attendance"}),(0,r.jsx)("p",{className:"text-sm text-blue-600",children:"Record daily attendance for students."})]})})]})]}):null}},575:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return o},a:function(){return d}});var r=a(7437),n=a(2265),l=a(3301),i=a(5978),s=a(4257);let u=(0,n.createContext)(void 0);function d(){let e=(0,n.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function o(e){let{children:t}=e,[a,d]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),[m,b]=(0,n.useState)(!0);(0,n.useEffect)(()=>(0,l.Aj)(s.I8,async e=>{if(c(e),e){let t=await (0,i.QT)((0,i.JU)(s.db,"users",e.uid));t.exists()?d(t.data()):d(null)}else d(null);b(!1)}),[]);let f=async(e,t)=>{await (0,l.e5)(s.I8,e,t)},h=async(e,t,a)=>{let{user:r}=await (0,l.Xb)(s.I8,e,t),n={uid:r.uid,email:e,name:a.name||"",role:a.role||"student",registrationNumber:a.registrationNumber,employeeId:a.employeeId,mobileNumber:a.mobileNumber,department:a.department,branch:a.branch,section:a.section,year:a.year,createdAt:(0,i.Bt)()};await (0,i.pl)((0,i.JU)(s.db,"users",r.uid),n),d(n)},p=async()=>{let e=new l.hJ,t=await (0,l.rh)(s.I8,e),a=await (0,i.QT)((0,i.JU)(s.db,"users",t.user.uid)),r=!a.exists();return r||d(a.data()),{isNewUser:r}},g=async()=>{await (0,l.w7)(s.I8),d(null),c(null)},x=async e=>{if(!o)throw Error("No user logged in");let t={...e,updatedAt:(0,i.Bt)()};if(await (0,i.pl)((0,i.JU)(s.db,"users",o.uid),t,{merge:!0}),"faculty"===(e.role||(null==a?void 0:a.role))){let t=e.department||(null==a?void 0:a.department);if(t){let r=(0,i.JU)(s.db,"admin","faculty","branch",t),n=(0,i.JU)(r,"faculty_members",o.uid);await (0,i.pl)(r,{name:t,updatedAt:(0,i.Bt)()},{merge:!0}),await (0,i.pl)(n,{uid:o.uid,name:e.name||(null==a?void 0:a.name)||"",email:o.email,employeeId:e.employeeId||(null==a?void 0:a.employeeId)||"",mobileNumber:e.mobileNumber||(null==a?void 0:a.mobileNumber)||"",department:t,joinedAt:(0,i.Bt)()},{merge:!0})}}d(t=>t?{...t,...e}:null)};return(0,r.jsx)(u.Provider,{value:{currentUser:a,firebaseUser:o,loading:m,signIn:f,signUp:h,signInWithGoogle:p,signOut:g,updateUserProfile:x},children:t})}},4257:function(e,t,a){"use strict";a.d(t,{I8:function(){return d},db:function(){return o}});var r=a(738),n=a(3301),l=a(5978),i=a(7292),s=a(62);let u=0===(0,r.C6)().length?(0,r.ZF)({apiKey:"AIzaSyCriF-OZFtI_SocDqx3FGo3XP_txugfLk8",authDomain:"alietake.firebaseapp.com",projectId:"alietake",storageBucket:"alietake.firebasestorage.app",messagingSenderId:"443363656423",appId:"1:443363656423:web:39544e219f609ab9f1d842",measurementId:"G-23NJJ85VQZ",databaseURL:"https://alietake.firebaseio.com"}):(0,r.Mq)(),d=(0,n.v0)(u),o=(0,l.ad)(u);(0,i.N8)(u),(0,s.cF)(u),a.e(834).then(a.bind(a,6834)).then(e=>{e.getAnalytics(u)})},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[358,481,139,379,971,117,744],function(){return e(e.s=9670)}),_N_E=e.O()}]);