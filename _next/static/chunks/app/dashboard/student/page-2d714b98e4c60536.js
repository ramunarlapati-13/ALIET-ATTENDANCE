(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{5435:function(e,s,t){Promise.resolve().then(t.bind(t,3165))},3165:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var a=t(7437),r=t(575),l=t(9376),n=t(2265);function i(e){let{children:s,allowedRoles:t}=e,{currentUser:i,loading:d}=(0,r.a)(),c=(0,l.useRouter)();return((0,n.useEffect)(()=>{d||(i?t&&!t.includes(i.role)&&c.push("/dashboard/".concat(i.role)):c.push("/login"))},[i,d,t,c]),d)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i&&(!t||t.includes(i.role))?(0,a.jsx)(a.Fragment,{children:s}):null}var d=t(5978),c=t(4257),m=t(9205);let o=(0,m.Z)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);function x(){let{currentUser:e}=(0,r.a)(),[s,t]=(0,n.useState)([]),[l,i]=(0,n.useState)([]);return((0,n.useEffect)(()=>{let s=(0,d.IO)((0,d.hJ)(c.db,"announcements"),(0,d.ar)("tier","==","institutional"),(0,d.ar)("isActive","==",!0),(0,d.Xo)("createdAt","desc")),a=(0,d.cf)(s,e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}),r=()=>{};if(null==e?void 0:e.department){let s=(0,d.IO)((0,d.hJ)(c.db,"announcements"),(0,d.ar)("tier","==","departmental"),(0,d.ar)("department","==",e.department),(0,d.ar)("isActive","==",!0),(0,d.Xo)("createdAt","desc"));r=(0,d.cf)(s,e=>{i(e.docs.map(e=>({id:e.id,...e.data()})))})}return()=>{a(),r()}},[e]),0===s.length&&0===l.length)?null:(0,a.jsxs)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:[s.length>0&&(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 text-white py-2 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,a.jsx)(o,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:"Institutional:"})]}),(0,a.jsx)("div",{className:"ticker flex-1",children:(0,a.jsx)("div",{className:"ticker-content",children:s.map((e,t)=>(0,a.jsxs)("span",{className:"inline-block",children:[(0,a.jsx)("span",{className:"font-medium",children:e.title})," - ",(0,a.jsx)("span",{children:e.content}),t<s.length-1&&(0,a.jsx)("span",{className:"mx-8",children:"•"})]},e.id))})})]})}),l.length>0&&(0,a.jsx)("div",{className:"bg-gradient-to-r from-secondary-600 to-secondary-700 text-white py-2 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,a.jsx)(o,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:"Department:"})]}),(0,a.jsx)("div",{className:"ticker flex-1",children:(0,a.jsx)("div",{className:"ticker-content",children:l.map((e,s)=>(0,a.jsxs)("span",{className:"inline-block",children:[(0,a.jsx)("span",{className:"font-medium",children:e.title})," - ",(0,a.jsx)("span",{children:e.content}),s<l.length-1&&(0,a.jsx)("span",{className:"mx-8",children:"•"})]},e.id))})})]})})]})}var h=t(2369);let u=(0,m.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),p=(0,m.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),g=(0,m.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),y=(0,m.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),j=(0,m.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),f=(0,m.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);function b(){let{currentUser:e,signOut:s}=(0,r.a)(),t=(0,l.useRouter)(),n=async()=>{await s(),t.push("/login")};return(0,a.jsx)(i,{allowedRoles:["student"],children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:null==e?void 0:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:null==e?void 0:e.registrationNumber})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(u,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsxs)("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[(0,a.jsx)(p,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Sign Out"})]})]})]})})}),(0,a.jsx)(x,{}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 rounded-lg p-6 mb-8 text-white",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",null==e?void 0:e.name,"!"]}),(0,a.jsxs)("p",{className:"text-primary-100",children:[null==e?void 0:e.branch," - ",null==e?void 0:e.section," | Year ",null==e?void 0:e.year]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"card-hover",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,a.jsx)(g,{className:"w-6 h-6 text-green-600"})}),(0,a.jsx)("span",{className:"text-2xl font-bold text-green-600",children:"85%"})]}),(0,a.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Attendance"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Overall percentage"})]}),(0,a.jsxs)("div",{className:"card-hover",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,a.jsx)(y,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"78%"})]}),(0,a.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Academic Performance"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Average marks"})]}),(0,a.jsxs)("div",{className:"card-hover",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,a.jsx)(j,{className:"w-6 h-6 text-yellow-600"})}),(0,a.jsx)("span",{className:"text-2xl font-bold text-yellow-600",children:"₹5,000"})]}),(0,a.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Pending Fees"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Due this semester"})]}),(0,a.jsxs)("div",{className:"card-hover",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,a.jsx)(f,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsx)("span",{className:"text-2xl font-bold text-purple-600",children:"6"})]}),(0,a.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Active Subjects"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"This semester"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Attendance"}),(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-gray-900",children:["Subject ",e]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Feb ",e,", 2026"]})]}),(0,a.jsx)("span",{className:"badge-success",children:"Present"})]},e))})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Announcements"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(u,{className:"w-4 h-4 text-blue-600 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:"Mid-term Exams Schedule"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Mid-term examinations will be conducted from March 1-10, 2026."}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"2 hours ago"})]})]})}),(0,a.jsx)("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(u,{className:"w-4 h-4 text-green-600 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:"Fee Payment Reminder"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Semester fees due date is approaching. Please clear pending dues."}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"1 day ago"})]})]})})]})]})]})]})]})})}},575:function(e,s,t){"use strict";t.d(s,{AuthProvider:function(){return m},a:function(){return c}});var a=t(7437),r=t(2265),l=t(3301),n=t(5978),i=t(4257);let d=(0,r.createContext)(void 0);function c(){let e=(0,r.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function m(e){let{children:s}=e,[t,c]=(0,r.useState)(null),[m,o]=(0,r.useState)(null),[x,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>(0,l.Aj)(i.I8,async e=>{if(o(e),e){let s=await (0,n.QT)((0,n.JU)(i.db,"users",e.uid));s.exists()?c(s.data()):c(null)}else c(null);h(!1)}),[]);let u=async(e,s)=>{await (0,l.e5)(i.I8,e,s)},p=async(e,s,t)=>{let{user:a}=await (0,l.Xb)(i.I8,e,s),r={uid:a.uid,email:e,name:t.name||"",role:t.role||"student",registrationNumber:t.registrationNumber,employeeId:t.employeeId,mobileNumber:t.mobileNumber,department:t.department,branch:t.branch,section:t.section,year:t.year,createdAt:(0,n.Bt)()};await (0,n.pl)((0,n.JU)(i.db,"users",a.uid),r),c(r)},g=async()=>{let e=new l.hJ,s=await (0,l.rh)(i.I8,e),t=await (0,n.QT)((0,n.JU)(i.db,"users",s.user.uid)),a=!t.exists();return a||c(t.data()),{isNewUser:a}},y=async()=>{await (0,l.w7)(i.I8),c(null),o(null)},j=async e=>{if(!m)throw Error("No user logged in");let s={...e,updatedAt:(0,n.Bt)()};if(await (0,n.pl)((0,n.JU)(i.db,"users",m.uid),s,{merge:!0}),"faculty"===(e.role||(null==t?void 0:t.role))){let s=e.department||(null==t?void 0:t.department);if(s){let a=(0,n.JU)(i.db,"admin","faculty","branch",s),r=(0,n.JU)(a,"faculty_members",m.uid);await (0,n.pl)(a,{name:s,updatedAt:(0,n.Bt)()},{merge:!0}),await (0,n.pl)(r,{uid:m.uid,name:e.name||(null==t?void 0:t.name)||"",email:m.email,employeeId:e.employeeId||(null==t?void 0:t.employeeId)||"",mobileNumber:e.mobileNumber||(null==t?void 0:t.mobileNumber)||"",department:s,joinedAt:(0,n.Bt)()},{merge:!0})}}c(s=>s?{...s,...e}:null)};return(0,a.jsx)(d.Provider,{value:{currentUser:t,firebaseUser:m,loading:x,signIn:u,signUp:p,signInWithGoogle:g,signOut:y,updateUserProfile:j},children:s})}},4257:function(e,s,t){"use strict";t.d(s,{I8:function(){return c},db:function(){return m}});var a=t(738),r=t(3301),l=t(5978),n=t(7292),i=t(62);let d=0===(0,a.C6)().length?(0,a.ZF)({apiKey:"AIzaSyCriF-OZFtI_SocDqx3FGo3XP_txugfLk8",authDomain:"alietake.firebaseapp.com",projectId:"alietake",storageBucket:"alietake.firebasestorage.app",messagingSenderId:"443363656423",appId:"1:443363656423:web:39544e219f609ab9f1d842",measurementId:"G-23NJJ85VQZ",databaseURL:"https://alietake.firebaseio.com"}):(0,a.Mq)(),c=(0,r.v0)(d),m=(0,l.ad)(d);(0,n.N8)(d),(0,i.cF)(d),t.e(834).then(t.bind(t,6834)).then(e=>{e.getAnalytics(d)})},9205:function(e,s,t){"use strict";t.d(s,{Z:function(){return d}});var a=t(2265);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&t.indexOf(e)===s).join(" ")};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:c="",children:m,iconNode:o,...x}=e;return(0,a.createElement)("svg",{ref:s,...n,width:r,height:r,stroke:t,strokeWidth:d?24*Number(i)/Number(r):i,className:l("lucide",c),...x},[...o.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(m)?m:[m]])}),d=(e,s)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:d,...c}=t;return(0,a.createElement)(i,{ref:n,iconNode:s,className:l("lucide-".concat(r(e)),d),...c})});return t.displayName="".concat(e),t}},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[358,481,139,379,971,117,744],function(){return e(e.s=5435)}),_N_E=e.O()}]);